<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>回顾Object.defineProperty方法</title>
</head>
<body>

<!--
总结：
1.Object.defineProperty虽然复杂，但是可以对追加的属性进行高级的限制
2.本案例中，person和number的关联，是通过defineProperty来进行关联的
-->

<!-- 准备好一个容器 -->
<div id="root">

</div>

</body>

<script type="text/javascript">
    let number = 19

    let person = {
        name: "张三",
        sex: "男"
    }

    // arg0: 给哪个对象添加属性 arg1: 添加的属性的名称 arg2: 属性配置
    Object.defineProperty(person, 'age', {
/*
        value: 18,
        // enumerable:控制属性是否可以枚举，默认值 false
        enumerable: true,
        // writable:控制属性是否可以被修改，默认值 false
        writable: true,
        // configurable:控制属性是否可以被删除，默认值 false
        configurable: true,
        // ... ...

*/


        // 当有人读取person的age属性时，get函数就会被调用，且返回值就是age的值
        // get: function () {
        get() {
            console.log('有人读取age属性了')
            return number;
        },

        // 当有人修改person的age属性时，setter就会被调用，且会收到修改的具体值
        set(value) {
            console.log('有人修改age的属性，且值是：', value)
            number = value;
        }
    })

    console.log(person)

    // 演示：不可以被枚举(遍历)
    console.log(Object.keys(person))

</script>

</html>